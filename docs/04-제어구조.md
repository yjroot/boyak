# 보약 제어 구조

## 1. 제어 구조 설계 원칙

### 1.1 들여쓰기 기반 블록

**선택 근거:**
- Python의 성공적인 선례
- 한글 텍스트와 시각적 조화
- 초보자에게 코드 구조가 명확히 보임
- 중괄호 `{}`나 `end` 키워드 불필요

**규칙:**
- 표준 들여쓰기: 공백 4칸 또는 탭 1개
- 파일 내에서 일관성 유지 필수
- 혼합 사용 시 오류 발생

### 1.2 한국어 어순 존중

한국어는 조건이나 대상이 먼저 나오고 동작이 뒤에 오는 구조입니다:
- "비가 오**면** 우산을 가져가라" (조건 + 동작)
- "10번 **반복하자**" (대상 + 동작)

## 2. 조건문

### 2.1 기본 조건문 (만약-이면)

```보약
만약 조건이면
    실행할 코드
```

**전체 구조:**
```보약
만약 조건1이면
    # 조건1이 참일 때 실행
    코드블록1

아니면 조건2이면
    # 조건1이 거짓이고 조건2가 참일 때 실행
    코드블록2

아니면 조건3이면
    # 조건1, 2가 거짓이고 조건3이 참일 때 실행
    코드블록3

그외에
    # 모든 조건이 거짓일 때 실행
    코드블록4
```

**설계 근거:**
- "만약 ~이면"은 한국어 가정문의 기본 구조
- "아니면"은 "그렇지 않으면"의 축약형으로 자연스러움
- "그외에"는 "그 외의 경우에"로 else의 의미를 명확히 전달

### 2.2 조건 표현식

**복합 조건:**
```보약
# 그리고 (AND)
만약 나이가 18보다 크고 학생이면
    "성인 학생"을 출력하라

# 또는 (OR)
만약 비가 오거나 눈이 오면
    "우산 필요"를 출력하라

# 부정 (NOT)
만약 로그인이 아니면
    "로그인하세요"를 출력하라

# 복합
만약 (나이가 20보다 크거나 보호자동의가 있고) VIP이면
    "입장 가능"을 출력하라
```

**비교 조건:**
```보약
# 동등 비교
만약 이름이 "홍길동"과 같으면
만약 이름이 "홍길동"이면              # 축약형

# 비동등 비교
만약 상태가 "완료"와 다르면

# 크기 비교
만약 점수가 90보다 크거나같으면
만약 온도가 0보다 작으면
만약 값이 10보다 크고 20보다 작으면    # 10 < 값 < 20
```

### 2.3 포함 조건

```보약
# 목록에 포함 여부
만약 "사과"가 과일목록에 있으면
    "사과가 있습니다"를 출력하라

만약 "바나나"가 과일목록에 없으면
    "바나나가 없습니다"를 출력하라

# 문자열 포함 여부
만약 "안녕"이 메시지에 포함되어있으면
    "인사가 있습니다"를 출력하라
```

### 2.4 한 줄 조건문 (선택적)

```보약
# 간단한 조건은 한 줄로 작성 가능
"성인"을 출력하라 만약 나이가 18보다 크면

# 삼항 연산자 스타일
결과는 "성인" 만약 나이가 18보다 크면 그외에 "미성년"이다
```

**설계 근거:**
- 간단한 조건에 대해 간결한 표현 제공
- Python의 한 줄 if와 유사
- 복잡한 로직에는 사용 비권장

## 3. 반복문

### 3.1 조건 반복 (while)

```보약
# 기본 구조
조건인동안 반복하자
    반복할 코드

# 예시
횟수는 0이다
횟수가 10보다 작은동안 반복하자
    횟수를 출력하라
    횟수 += 1
```

**설계 근거:**
- "~동안"은 시간/조건의 지속을 나타내는 자연스러운 표현
- "반복하자"는 청유형으로 "함께 반복 작업을 하자"는 뉘앙스

### 3.2 컬렉션 반복 (for-each)

```보약
# 목록 반복
과일들은 ["사과", "배", "포도"]이다
각각의 과일을 과일들에서 반복하자
    과일을 출력하라

# 대안 문법
과일들을 과일로 반복하자
    과일을 출력하라
```

**설계 근거:**
- "각각의"는 컬렉션의 개별 요소를 명확히 지칭
- "~에서"는 출처/원본을 나타내는 조사

### 3.3 범위 반복 (for range)

```보약
# 기본 범위 (1부터 10까지)
1부터 10까지 반복하자 숫자로
    숫자를 출력하라

# 시작값부터 끝값 미만
0부터 10전까지 반복하자 인덱스로     # 0, 1, 2, ..., 9
    인덱스를 출력하라

# 간격 지정
1부터 10까지 2씩 반복하자 홀수로     # 1, 3, 5, 7, 9
    홀수를 출력하라

# 역순 반복
10부터 1까지 거꾸로 반복하자 카운트로
    카운트를 출력하라
```

**설계 근거:**
- "부터 ~까지"는 범위를 나타내는 한국어의 기본 구조
- "전까지"로 미만(exclusive)을 명확히 표현
- "~씩"으로 간격(step)을 자연스럽게 표현
- "거꾸로"로 역순 반복을 직관적으로 표현

### 3.4 사전 반복

```보약
학생은 {"이름": "홍길동", "나이": 20, "학과": "컴퓨터"}이다

# 키만 반복
학생의 각키를 반복하자
    키를 출력하라

# 값만 반복
학생의 각값을 반복하자
    값을 출력하라

# 키-값 쌍 반복
학생의 각쌍을 키와 값으로 반복하자
    "{키}: {값}"을 출력하라
```

### 3.5 반복 제어

```보약
# 반복 중단 (break)
1부터 100까지 반복하자 숫자로
    만약 숫자가 50보다 크면
        그만
    숫자를 출력하라

# 다음 반복으로 건너뛰기 (continue)
1부터 10까지 반복하자 숫자로
    만약 숫자가 3으로 나누어떨어지면
        다음으로
    숫자를 출력하라

# 반복 완료 후 실행 (else)
1부터 10까지 반복하자 숫자로
    만약 숫자가 목표와 같으면
        "찾았습니다"를 출력하라
        그만
완료후
    "찾지 못했습니다"를 출력하라
```

**설계 근거:**
- "그만"은 중단을 나타내는 가장 간결한 표현
- "다음으로"는 다음 반복으로 넘어감을 직관적으로 표현
- "완료후"는 정상 완료 시 실행되는 블록 (Python의 for-else)

### 3.6 무한 반복

```보약
계속 반복하자
    입력값은 "명령어: "로 입력받아라
    만약 입력값이 "종료"와 같으면
        그만
    입력값을 처리하라
```

**설계 근거:**
- "계속"은 무한 지속을 나타내는 명확한 표현
- `while True`의 한글화

### 3.7 횟수 반복

```보약
# 단순 횟수 반복
5번 반복하자
    "안녕하세요"를 출력하라

# 변수로 횟수 반복
횟수는 3이다
횟수번 반복하자
    "반복"을 출력하라
```

**설계 근거:**
- "~번"은 횟수를 나타내는 가장 자연스러운 표현
- 단순 반복에 대해 간결한 문법 제공

## 4. 예외 처리

### 4.1 기본 예외 처리

```보약
시도하자
    위험한코드()
오류가나면
    "오류가 발생했습니다"를 출력하라
```

### 4.2 특정 예외 처리

```보약
시도하자
    숫자는 "abc"를 정수로이다
오류가나면 값오류로
    "숫자 변환 오류: {오류}"를 출력하라
오류가나면 그외오류로
    "알 수 없는 오류: {그외오류}"를 출력하라
마무리로
    "처리 완료"를 출력하라
```

**설계 근거:**
- "시도하자"는 시도의 의미를 명확히 전달
- "오류가나면"은 오류 발생 조건을 직관적으로 표현
- "마무리로"는 finally의 의미를 한글로 표현

### 4.3 예외 발생

```보약
만약 나이가 0보다 작으면
    "나이는 음수일 수 없습니다"라는 값오류를 발생시켜라
```

**설계 근거:**
- "발생시켜라"는 raise의 의미를 명령형으로 표현
- "~라는 ~를"로 오류 메시지와 타입을 명확히 지정

## 5. 제어 구조 조합 예시

### 5.1 중첩 조건문

```보약
점수는 85이다

만약 점수가 90보다 크거나같으면
    학점은 "A"이다
아니면 점수가 80보다 크거나같으면
    만약 점수가 85보다 크거나같으면
        학점은 "B+"이다
    그외에
        학점은 "B"이다
아니면 점수가 70보다 크거나같으면
    학점은 "C"이다
그외에
    학점은 "F"이다

"학점: {학점}"을 출력하라
```

### 5.2 중첩 반복문

```보약
# 구구단 출력
2부터 9까지 반복하자 단으로
    "{단}단"을 출력하라
    1부터 9까지 반복하자 곱하는수로
        결과는 단 * 곱하는수이다
        "{단} x {곱하는수} = {결과}"를 출력하라
    ""을 출력하라
```

### 5.3 조건부 반복

```보약
# 소수 찾기
2부터 100까지 반복하자 숫자로
    소수인가는 참이다
    2부터 숫자전까지 반복하자 나누는수로
        만약 숫자가 나누는수로 나누어떨어지면
            소수인가는 거짓이다
            그만
    만약 소수인가이면
        숫자를 출력하라
```

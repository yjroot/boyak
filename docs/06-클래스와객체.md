# 보약 클래스와 객체

## 1. 클래스 설계 철학

### 1.1 "틀"이라는 은유

**선택한 키워드**: `틀`

**근거**:
- "틀"은 한국어에서 "같은 모양을 만들어내는 도구"를 의미
- 붕어빵 틀, 과자 틀처럼 같은 형태를 반복 생산하는 개념
- 클래스가 인스턴스를 찍어내는 "설계도/틀"이라는 비유와 완벽히 일치
- "class"의 직역인 "분류"나 "종류"보다 직관적

### 1.2 자기 참조

**선택한 키워드**: `자신`

**근거**:
- Python의 `self`, Java의 `this`에 해당
- "자기 자신"을 가리키는 가장 자연스러운 한국어 표현
- "나"보다 객관적이고 명확함

### 1.3 상속

**선택한 표현**: `X를 확장하여` 또는 `X의 자식틀로`

**근거**:
- "확장"은 기존 기능을 넓힌다는 의미로 상속의 본질을 표현
- "자식틀"은 부모-자식 관계를 한국어로 직관적 표현

## 2. 클래스 문법

### 2.1 기본 클래스 정의

```보약
사람 틀을 정의하자
    # 생성자 (초기화)
    생성할때 이름과 나이를 받아
        자신의 이름은 이름이다
        자신의 나이는 나이이다

    # 메서드
    인사를 정의하자
        "안녕하세요, 저는 {자신의 이름}입니다"를 출력하라

    나이먹기를 정의하자
        자신의 나이는 자신의 나이 + 1이다
        "{자신의 이름}이(가) {자신의 나이}살이 되었습니다"를 출력하라
```

**설계 근거**:
- `틀을 정의하자`: 함수 정의와 일관된 청유형 사용
- `생성할때`: 객체가 생성될 때 실행됨을 명확히 표현
- `자신의 X`: 인스턴스 속성 접근을 한국어 소유격으로 표현

### 2.2 인스턴스 생성

```보약
# 기본 생성
홍길동은 사람("홍길동", 25)이다

# 또는 명시적 생성
홍길동은 사람을 생성하라("홍길동", 25)

# 메서드 호출
홍길동의 인사()
홍길동의 나이먹기()

# 속성 접근
이름은 홍길동의 이름이다
"이름: {이름}"을 출력하라
```

**설계 근거**:
- 함수 호출과 동일한 괄호 문법으로 일관성 유지
- `X의 Y` 구문으로 속성/메서드 접근 (한국어 소유격)

### 2.3 상속

```보약
# 부모 클래스
동물 틀을 정의하자
    생성할때 이름을 받아
        자신의 이름은 이름이다

    소리내기를 정의하자
        "..."을 출력하라

# 자식 클래스 (확장)
강아지 틀을 정의하자 동물을 확장하여
    생성할때 이름과 품종을 받아
        부모의 생성(이름)    # 부모 생성자 호출
        자신의 품종은 품종이다

    # 메서드 재정의 (오버라이딩)
    소리내기를 정의하자
        "멍멍!"을 출력하라

    # 새 메서드
    꼬리흔들기를 정의하자
        "{자신의 이름}이(가) 꼬리를 흔듭니다"를 출력하라
```

**설계 근거**:
- `X를 확장하여`: 상속의 의미를 명확히 전달
- `부모의 생성()`: 부모 클래스 생성자 호출
- 메서드 재정의는 같은 이름으로 다시 정의

### 2.4 다중 상속

```보약
날수있는것 틀을 정의하자
    날기를 정의하자
        "날아갑니다"를 출력하라

헤엄칠수있는것 틀을 정의하자
    헤엄치기를 정의하자
        "헤엄칩니다"를 출력하라

오리 틀을 정의하자 날수있는것과 헤엄칠수있는것을 확장하여
    생성할때 이름을 받아
        자신의 이름은 이름이다

    소리내기를 정의하자
        "꽥꽥!"을 출력하라
```

**설계 근거**:
- `X과/와 Y를 확장하여`: 한국어 접속조사로 다중 상속 표현
- Python의 MRO(Method Resolution Order)와 유사하게 처리

## 3. 특수 메서드

### 3.1 생성자와 소멸자

```보약
파일관리자 틀을 정의하자
    생성할때 파일경로를 받아
        자신의 파일은 파일경로를 열어라
        "파일을 열었습니다"를 출력하라

    소멸할때
        자신의 파일을 닫아라
        "파일을 닫았습니다"를 출력하라
```

| 특수 메서드 | 역할 | Python 대응 |
|------------|------|-------------|
| `생성할때` | 생성자 | `__init__` |
| `소멸할때` | 소멸자 | `__del__` |

### 3.2 연산자 오버로딩

```보약
벡터 틀을 정의하자
    생성할때 x와 y를 받아
        자신의 x는 x이다
        자신의 y는 y이다

    더하기를 정의하자 다른것을 받아
        새x는 자신의 x + 다른것의 x이다
        새y는 자신의 y + 다른것의 y이다
        벡터(새x, 새y)를 돌려주라

    문자열로를 정의하자
        "({자신의 x}, {자신의 y})"를 돌려주라

# 사용
벡터1은 벡터(1, 2)이다
벡터2는 벡터(3, 4)이다
벡터3은 벡터1 + 벡터2이다    # 더하기 메서드 호출
벡터3을 출력하라              # "(4, 6)"
```

| 메서드 | 연산자 | Python 대응 |
|--------|--------|-------------|
| `더하기` | `+` | `__add__` |
| `빼기` | `-` | `__sub__` |
| `곱하기` | `*` | `__mul__` |
| `나누기` | `/` | `__truediv__` |
| `같은지` | `==` | `__eq__` |
| `문자열로` | 문자열 변환 | `__str__` |
| `길이` | `길이()` | `__len__` |

## 4. 접근 제어

### 4.1 공개와 비공개

```보약
계좌 틀을 정의하자
    생성할때 소유자와 초기잔액을 받아
        자신의 소유자는 소유자이다        # 공개 속성
        자신의 _잔액은 초기잔액이다       # 비공개 속성 (관례: _ 접두사)

    잔액확인을 정의하자
        자신의 _잔액을 돌려주라

    입금을 정의하자 금액을 받아
        만약 금액이 0보다 크면
            자신의 _잔액은 자신의 _잔액 + 금액이다
            "{금액}원이 입금되었습니다"를 출력하라
        그외에
            "금액은 0보다 커야 합니다"를 출력하라

    출금을 정의하자 금액을 받아
        만약 금액이 자신의 _잔액보다 작거나같으면
            자신의 _잔액은 자신의 _잔액 - 금액이다
            "{금액}원이 출금되었습니다"를 출력하라
        그외에
            "잔액이 부족합니다"를 출력하라
```

**설계 근거**:
- Python과 동일하게 `_` 접두사로 비공개 표시 (관례)
- 강제적 접근 제어보다 개발자 규약 중시
- 언어의 단순성 유지

## 5. 클래스 속성과 메서드

### 5.1 틀 속성 (클래스 변수)

```보약
학생 틀을 정의하자
    # 틀 속성 (모든 인스턴스가 공유)
    총학생수는 0이다

    생성할때 이름을 받아
        자신의 이름은 이름이다
        학생의 총학생수는 학생의 총학생수 + 1이다

    @틀메서드
    현재학생수를 정의하자
        학생의 총학생수를 돌려주라
```

### 5.2 정적 메서드

```보약
수학도구 틀을 정의하자
    @정적메서드
    더하기를 정의하자 a와 b를 받아
        a + b를 돌려주라

    @정적메서드
    곱하기를 정의하자 a와 b를 받아
        a * b를 돌려주라

# 인스턴스 없이 호출
결과는 수학도구의 더하기(3, 5)이다
```

## 6. 완전한 예제

### 6.1 도형 클래스 계층

```보약
# 추상 기본 클래스
도형 틀을 정의하자
    생성할때 이름을 받아
        자신의 이름은 이름이다

    넓이를 정의하자
        "하위 클래스에서 구현해야 합니다"라는 오류를 발생시켜라

    둘레를 정의하자
        "하위 클래스에서 구현해야 합니다"라는 오류를 발생시켜라

    정보를 정의하자
        "{자신의 이름}: 넓이={자신의 넓이()}, 둘레={자신의 둘레()}"를 돌려주라


# 원
원 틀을 정의하자 도형을 확장하여
    항상 원주율은 3.14159이다

    생성할때 반지름을 받아
        부모의 생성("원")
        자신의 반지름은 반지름이다

    넓이를 정의하자
        원주율 * 자신의 반지름 ** 2를 돌려주라

    둘레를 정의하자
        2 * 원주율 * 자신의 반지름을 돌려주라


# 직사각형
직사각형 틀을 정의하자 도형을 확장하여
    생성할때 가로와 세로를 받아
        부모의 생성("직사각형")
        자신의 가로는 가로이다
        자신의 세로는 세로이다

    넓이를 정의하자
        자신의 가로 * 자신의 세로를 돌려주라

    둘레를 정의하자
        2 * (자신의 가로 + 자신의 세로)를 돌려주라


# 정사각형 (직사각형 확장)
정사각형 틀을 정의하자 직사각형을 확장하여
    생성할때 변을 받아
        부모의 생성(변, 변)
        자신의 이름은 "정사각형"이다


# 사용 예시
원1은 원(5)이다
사각형1은 직사각형(4, 6)이다
정사각형1은 정사각형(5)이다

도형들은 [원1, 사각형1, 정사각형1]이다
각각의 도형을 도형들에서 반복하자
    도형의 정보()를 출력하라
```

## 7. 키워드 요약

| 키워드 | 역할 | 예시 |
|--------|------|------|
| `틀` | 클래스 선언 | `사람 틀을 정의하자` |
| `생성할때` | 생성자 | `생성할때 이름을 받아` |
| `소멸할때` | 소멸자 | `소멸할때` |
| `자신` | 인스턴스 자기 참조 | `자신의 이름` |
| `자신의` | 인스턴스 속성 접근 | `자신의 나이는 25이다` |
| `확장하여` | 상속 | `동물을 확장하여` |
| `부모의` | 부모 클래스 참조 | `부모의 생성()` |
| `@틀메서드` | 클래스 메서드 | `@틀메서드` |
| `@정적메서드` | 정적 메서드 | `@정적메서드` |
